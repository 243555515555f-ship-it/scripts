-- GeminiLib V6.4.1
local GeminiLib = {}

-- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
local services = {
    UIS = game:GetService("UserInputService"),
    TweenService = game:GetService("TweenService"),
    RunService = game:GetService("RunService"),
    CoreGui = game:GetService("CoreGui"),
    HttpService = game:GetService("HttpService"),
    Players = game:GetService("Players"),
    Stats = game:GetService("Stats")
}

function GeminiLib:Version()
    return "V6.4.1"
end

-- –£–ù–ò–í–ï–†–°–ê–õ–¨–ù–ê–Ø –°–ò–°–¢–ï–ú–ê –¢–ï–ú
GeminiLib.Themes = {
    Dark = {
        Name = "Dark",
        Main = Color3.fromRGB(30, 30, 35),
        Accent = Color3.fromRGB(80, 170, 255),
        Secondary = Color3.fromRGB(100, 180, 255),
        Text = Color3.fromRGB(230, 230, 235),
        TextSecondary = Color3.fromRGB(160, 160, 170),
        Section = Color3.fromRGB(40, 40, 45),
        Element = Color3.fromRGB(50, 50, 55),
        Border = Color3.fromRGB(70, 70, 80),
        Shadow = Color3.fromRGB(0, 0, 0),
        ShadowAlpha = 0.25,
        Success = Color3.fromRGB(70, 220, 130),
        Warning = Color3.fromRGB(255, 190, 50),
        Error = Color3.fromRGB(240, 90, 90)
    },
    Midnight = {
        Name = "Midnight",
        Main = Color3.fromRGB(20, 20, 30),
        Accent = Color3.fromRGB(150, 100, 255),
        Secondary = Color3.fromRGB(130, 90, 230),
        Text = Color3.fromRGB(230, 230, 240),
        TextSecondary = Color3.fromRGB(170, 170, 190),
        Section = Color3.fromRGB(30, 30, 45),
        Element = Color3.fromRGB(40, 40, 60),
        Border = Color3.fromRGB(90, 90, 130),
        Shadow = Color3.fromRGB(0, 0, 0),
        ShadowAlpha = 0.3,
        Success = Color3.fromRGB(80, 220, 160),
        Warning = Color3.fromRGB(255, 180, 60),
        Error = Color3.fromRGB(255, 100, 100)
    },
    Cyberpunk = {
        Name = "Cyberpunk",
        Main = Color3.fromRGB(10, 15, 25),
        Accent = Color3.fromRGB(0, 220, 220),
        Secondary = Color3.fromRGB(200, 0, 200),
        Text = Color3.fromRGB(240, 245, 255),
        TextSecondary = Color3.fromRGB(180, 190, 220),
        Section = Color3.fromRGB(20, 25, 40),
        Element = Color3.fromRGB(30, 35, 55),
        Border = Color3.fromRGB(0, 180, 180),
        Shadow = Color3.fromRGB(0, 100, 255),
        ShadowAlpha = 0.25,
        Success = Color3.fromRGB(0, 230, 180),
        Warning = Color3.fromRGB(255, 230, 0),
        Error = Color3.fromRGB(255, 70, 70)
    },
    NeonAbyss = {
        Name = "NeonAbyss",
        Main = Color3.fromRGB(10, 10, 15),
        Accent = Color3.fromRGB(0, 255, 150), -- –Ø—Ä–∫–æ-–±–∏—Ä—é–∑–æ–≤—ã–π
        Secondary = Color3.fromRGB(255, 0, 100), -- –†–æ–∑–æ–≤—ã–π –Ω–µ–æ–Ω
        Text = Color3.fromRGB(240, 255, 250),
        TextSecondary = Color3.fromRGB(130, 150, 140),
        Section = Color3.fromRGB(20, 25, 30),
        Element = Color3.fromRGB(25, 35, 40),
        Border = Color3.fromRGB(0, 255, 150),
        Shadow = Color3.fromRGB(0, 255, 150),
        ShadowAlpha = 0.2
    },
    Rampage = {
        Name = "Rampage",
        Main = Color3.fromRGB(107, 0, 0),
        Accent = Color3.fromRGB(140, 0, 0),
        Secondary = Color3.fromRGB(92, 10, 10),
        Text = Color3.fromRGB(255, 240, 240),
        TextSecondary = Color3.fromRGB(135, 64, 64),
        Section = Color3.fromRGB(18, 10, 10),
        Element = Color3.fromRGB(25, 12, 12),
        Border = Color3.fromRGB(200, 20, 20),
        Shadow = Color3.fromRGB(150, 0, 0),
        ShadowAlpha = 0.4,
        Success = Color3.fromRGB(255, 70, 70),
        Warning = Color3.fromRGB(255, 140, 0),
        Error = Color3.fromRGB(255, 0, 0)
    }
}

-- –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø
GeminiLib.Config = {
    WindowWidth = 800,
    WindowHeight = 600,
    Roundness = 12,
    EnableShadows = true,
    DefaultTheme = "Cyberpunk",
    MaxDropdownHeight = 300,
    StatsUpdateInterval = 1
}

-- –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò
local function createShadow(parent, color, transparency, sizeMultiplier)
    if not GeminiLib.Config.EnableShadows then return end
    
    local shadow = Instance.new("ImageLabel")
    shadow.Name = "Shadow"
    shadow.Image = "rbxassetid://5554237735"
    shadow.ImageColor3 = color
    shadow.ImageTransparency = transparency or 0.7
    
    shadow.ScaleType = Enum.ScaleType.Slice
    shadow.SliceScale = 0.05
    shadow.SliceCenter = Rect.new(10, 10, 118, 118)
    shadow.Size = UDim2.new(1, sizeMultiplier or 8, 1, sizeMultiplier or 8)
    shadow.Position = UDim2.new(0, -(sizeMultiplier or 8)/2, 0, -(sizeMultiplier or 8)/2)
    shadow.BackgroundTransparency = 1
    shadow.ZIndex = parent.ZIndex - 1
    shadow.Parent = parent
    return shadow
end

-- –ö–ª–∞—Å—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è UI —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
local UI = {}
function UI:Create(class, properties)
    local instance = Instance.new(class)
    for prop, value in pairs(properties) do
        if prop ~= "Parent" then
            if type(value) == "table" and value.ClassName then
                self:Create(value.ClassName, value):SetParent(instance)
            else
                instance[prop] = value
            end
        end
    end
    if properties.Parent then
        instance.Parent = properties.Parent
    end
    return instance
end

-- –§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫ —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –≤—Å–µ—Ö —Ç–µ–º
function GeminiLib:GetThemesList()
    local list = {}
    for themeName, _ in pairs(GeminiLib.Themes) do
        table.insert(list, themeName)
    end
    return list
end

-- –û–°–ù–û–í–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –°–û–ó–î–ê–ù–ò–Ø –û–ö–ù–ê
function GeminiLib:CreateWindow(title, themeName)
    local theme = GeminiLib.Themes[themeName] or GeminiLib.Themes[GeminiLib.Config.DefaultTheme]
    title = title  .. " | by nxs_Bounty"

    local WindowObj = {
        Tabs = {},
        CurrentTab = nil,
        Theme = theme,
        Elements = {},
        Settings = {},
        IsMinimized = false,
        OriginalSize = UDim2.new(0, GeminiLib.Config.WindowWidth, 0, GeminiLib.Config.WindowHeight),
        OriginalPosition = nil,
        StatsConnection = nil,
        HiddenElements = {}
    }
    WindowObj.Connections = {}
    WindowObj.OpenDropdowns = {}

    -- –°–æ–∑–¥–∞–µ–º ScreenGui
    local ScreenGui = UI:Create("ScreenGui", {
        Name = "GeminiLib_" .. services.HttpService:GenerateGUID(false):sub(1, 8),
        Parent = services.CoreGui
    })
    WindowObj.ScreenGui = ScreenGui

    -- –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
    local Main = UI:Create("Frame", {
        Size = WindowObj.OriginalSize,
        Position = UDim2.new(0.5, -GeminiLib.Config.WindowWidth/2, 0.5, -GeminiLib.Config.WindowHeight/2),
        BackgroundColor3 = theme.Main,
        BorderSizePixel = 0,
        ClipsDescendants = true,
        ZIndex = 10,
        Parent = ScreenGui
    })
    
    UI:Create("UICorner", {
        CornerRadius = UDim.new(0, GeminiLib.Config.Roundness),
        Parent = Main
    })
    
    createShadow(Main, theme.Shadow, theme.ShadowAlpha, 15)

    -- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å
    local TopBar = UI:Create("Frame", {
        Name = "TopBar",
        Size = UDim2.new(1, 0, 0, 45),
        BackgroundColor3 = theme.Section,
        BackgroundTransparency = 0.4,
        ZIndex = 12,
        Parent = Main
    })
    
    UI:Create("UICorner", {
        CornerRadius = UDim.new(0, GeminiLib.Config.Roundness),
        Parent = TopBar
    })
    
    -- –õ–µ–≥–∫–∏–π –≥—Ä–∞–¥–∏–µ–Ω—Ç
    UI:Create("UIGradient", {
        Color = ColorSequence.new{
            ColorSequenceKeypoint.new(0, theme.Accent),
            ColorSequenceKeypoint.new(0.5, theme.Section),
            ColorSequenceKeypoint.new(1, theme.Section)
        },
        Transparency = NumberSequence.new(0.8),
        Rotation = 90,
        Parent = TopBar
    })
    
    -- [–ü–õ–ê–í–ù–´–ô DRAG]
    local dragging, dragInput, dragStart, startPos
    local function update(input)
        local delta = input.Position - dragStart
        local targetPos = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        services.TweenService:Create(Main, TweenInfo.new(0.15, Enum.EasingStyle.Cubic), {Position = targetPos}):Play()
    end

    Main.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = Main.Position
        end
    end)

    services.UIS.InputChanged:Connect(function(input)
        if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
            update(input)
        end
    end)

    services.UIS.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = false
        end
    end)
    
    -- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å FPS –∏ Ping
    local Title = UI:Create("TextLabel", {
        Name = "Title",
        Text = "  " .. title,
        Size = UDim2.new(1, -280, 1, 0),
        TextColor3 = theme.Text,
        Font = Enum.Font.GothamMedium,
        TextSize = 18,
        TextXAlignment = Enum.TextXAlignment.Left,
        BackgroundTransparency = 1,
        ZIndex = 13,
        Parent = TopBar
    })

    -- FPS –∏ Ping –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
    local StatsLabel = UI:Create("TextLabel", {
        Name = "StatsLabel",
        Text = "FPS: -- | Ping: --",
        Size = UDim2.new(0, 140, 1, 0),
        Position = UDim2.new(1, -200, 0, 0),
        TextColor3 = theme.TextSecondary,
        Font = Enum.Font.Gotham,
        TextSize = 12,
        TextXAlignment = Enum.TextXAlignment.Right,
        BackgroundTransparency = 1,
        ZIndex = 13,
        Parent = TopBar
    })

    -- –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
    local lastUpdate = 0
    local function updateStats()
        local now = tick()
        if now - lastUpdate < GeminiLib.Config.StatsUpdateInterval then return end
        lastUpdate = now
        
        local fps = math.floor(1 / services.RunService.RenderStepped:Wait())
        local ping = math.random(20, 80)
        
        StatsLabel.Text = string.format("FPS: %d | Ping: %dms", fps, ping)
        
        if fps < 30 then
            StatsLabel.TextColor3 = theme.Error
        elseif fps < 60 then
            StatsLabel.TextColor3 = theme.Warning
        else
            StatsLabel.TextColor3 = theme.Success
        end
    end
    
    -- –ó–∞–ø—É—Å–∫–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
    local function startStatsUpdate()
        if WindowObj.StatsConnection then
            WindowObj.StatsConnection:Disconnect()
        end
        
        WindowObj.StatsConnection = services.RunService.RenderStepped:Connect(updateStats)
    end
    
    local function stopStatsUpdate()
        if WindowObj.StatsConnection then
            WindowObj.StatsConnection:Disconnect()
            WindowObj.StatsConnection = nil
        end
    end
    
    startStatsUpdate()

    -- –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è
    local CloseBtn = UI:Create("ImageButton", {
        Size = UDim2.new(0, 28, 0, 28),
        Position = UDim2.new(1, -36, 0.5, -14),
        Image = "rbxassetid://6031094678",
        ImageColor3 = theme.Text,
        BackgroundTransparency = 1,
        ZIndex = 13,
        Parent = TopBar
    })

    table.insert(WindowObj.Connections, CloseBtn.MouseEnter:Connect(function()
        services.TweenService:Create(CloseBtn, TweenInfo.new(0.15), {
            ImageColor3 = theme.Error,
            Rotation = 90,
            Size = UDim2.new(0, 30, 0, 30)
        }):Play()
    end))
    
    table.insert(WindowObj.Connections, CloseBtn.MouseLeave:Connect(function()
        services.TweenService:Create(CloseBtn, TweenInfo.new(0.15), {
            ImageColor3 = theme.Text,
            Rotation = 0,
            Size = UDim2.new(0, 28, 0, 28)
        }):Play()
    end))
    
    table.insert(WindowObj.Connections, CloseBtn.MouseButton1Click:Connect(function()
        WindowObj:Destroy()
    end))

    -- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å –¥–ª—è –≤–∫–ª–∞–¥–æ–∫
    local SideBar = UI:Create("Frame", {
        Name = "SideBar",
        Size = UDim2.new(0, 170, 1, -65),
        Position = UDim2.new(0, 10, 0, 55),
        BackgroundColor3 = theme.Section,
        BackgroundTransparency = 0.6,
        ZIndex = 12,
        Parent = Main
    })
    
    UI:Create("UICorner", {
        CornerRadius = UDim.new(0, GeminiLib.Config.Roundness - 2),
        Parent = SideBar
    })
    
    UI:Create("UIStroke", {
        Color = theme.Accent,
        Thickness = 1,
        Transparency = 0.5,
        Parent = SideBar
    })
    
    -- –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º–∞—è –æ–±–ª–∞—Å—Ç—å –¥–ª—è –≤–∫–ª–∞–¥–æ–∫
    local TabScroll = UI:Create("ScrollingFrame", {
        Name = "TabScroll",
        Size = UDim2.new(1, -10, 1, -80),
        Position = UDim2.new(0, 5, 0, 5),
        BackgroundTransparency = 1,
        CanvasSize = UDim2.new(0, 0, 0, 0),
        ScrollBarThickness = 3,
        ScrollBarImageColor3 = theme.Accent,
        ScrollingDirection = Enum.ScrollingDirection.Y,
        ZIndex = 13,
        Parent = SideBar
    })
    
    UI:Create("UIListLayout", {
        Padding = UDim.new(0, 6),
        HorizontalAlignment = Enum.HorizontalAlignment.Center,
        SortOrder = Enum.SortOrder.LayoutOrder,
        Parent = TabScroll
    })

    -- –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    local ProfileFrame = UI:Create("Frame", {
        Name = "ProfileFrame",
        Size = UDim2.new(1, -10, 0, 60),
        Position = UDim2.new(0, 5, 1, -65),
        BackgroundColor3 = theme.Element,
        BackgroundTransparency = 0.4,
        ZIndex = 14,
        Parent = SideBar
    })

    UI:Create("UICorner", {
        CornerRadius = UDim.new(0, 10),
        Parent = ProfileFrame
    })
    
    UI:Create("UIStroke", {
        Color = theme.Accent,
        Thickness = 1,
        Transparency = 0.6,
        Parent = ProfileFrame
    })

    -- –ê–≤–∞—Ç–∞—Ä
    local Avatar = UI:Create("ImageLabel", {
        Name = "Avatar",
        Size = UDim2.new(0, 40, 0, 40),
        Position = UDim2.new(0, 8, 0.5, -20),
        BackgroundColor3 = theme.Main,
        ZIndex = 15,
        Parent = ProfileFrame
    })
    
    UI:Create("UICorner", {
        CornerRadius = UDim.new(1, 0),
        Parent = Avatar
    })

    -- –ó–∞–≥—Ä—É–∂–∞–µ–º –∞–≤–∞—Ç–∞—Ä
    local userId = services.Players.LocalPlayer.UserId
    local success, content = pcall(function()
        return services.Players:GetUserThumbnailAsync(userId, Enum.ThumbnailType.HeadShot, Enum.ThumbnailSize.Size100x100)
    end)
    if success then
        Avatar.Image = content
    else
        Avatar.Image = "rbxassetid://0"
    end

    -- –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    UI:Create("TextLabel", {
        Name = "Username",
        Text = services.Players.LocalPlayer.Name,
        Size = UDim2.new(1, -55, 0, 20),
        Position = UDim2.new(0, 55, 0, 10),
        TextColor3 = theme.Text,
        Font = Enum.Font.GothamMedium,
        TextSize = 12,
        TextXAlignment = Enum.TextXAlignment.Left,
        BackgroundTransparency = 1,
        TextTruncate = Enum.TextTruncate.AtEnd,
        ZIndex = 15,
        Parent = ProfileFrame
    })

    -- –°—Ç–∞—Ç—É—Å
    UI:Create("TextLabel", {
        Name = "Status",
        Text = "üü¢ Online",
        Size = UDim2.new(1, -55, 0, 18),
        Position = UDim2.new(0, 55, 0, 32),
        TextColor3 = theme.Success,
        Font = Enum.Font.Gotham,
        TextSize = 11,
        TextXAlignment = Enum.TextXAlignment.Left,
        BackgroundTransparency = 1,
        ZIndex = 15,
        Parent = ProfileFrame
    })

    -- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤–∫–ª–∞–¥–æ–∫
    local ContentContainer = UI:Create("Frame", {
        Name = "ContentContainer",
        Size = UDim2.new(1, -190, 1, -65),
        Position = UDim2.new(0, 185, 0, 55),
        BackgroundColor3 = theme.Section,
        BackgroundTransparency = 0.7,
        ZIndex = 12,
        Parent = Main
    })
    
    UI:Create("UICorner", {
        CornerRadius = UDim.new(0, GeminiLib.Config.Roundness - 2),
        Parent = ContentContainer
    })
    
    UI:Create("UIStroke", {
        Color = theme.Accent,
        Thickness = 1,
        Transparency = 0.6,
        Parent = ContentContainer
    })

    -- –§–£–ù–ö–¶–ò–Ø –°–û–ó–î–ê–ù–ò–Ø –í–ö–õ–ê–î–ö–ò
    function WindowObj:CreateTab(name, icon)
        local TabBtn = UI:Create("TextButton", {
            Name = "TabBtn_" .. name,
            Size = UDim2.new(1, 0, 0, 38),
            BackgroundColor3 = theme.Element,
            BackgroundTransparency = 0.6,
            Text = (icon or "üì±") .. "  " .. name,
            TextColor3 = theme.TextSecondary,
            Font = Enum.Font.GothamMedium,
            TextSize = 13,
            TextXAlignment = Enum.TextXAlignment.Left,
            ZIndex = 14,
            LayoutOrder = #WindowObj.Tabs + 1,
            Parent = TabScroll
        })
        
        UI:Create("UIPadding", {
            PaddingLeft = UDim.new(0, 12),
            Parent = TabBtn
        })
        
        UI:Create("UICorner", {
            CornerRadius = UDim.new(0, 8),
            Parent = TabBtn
        })
        
        -- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤–∫–ª–∞–¥–∫–∏
        local Page = UI:Create("ScrollingFrame", {
            Name = "Page_" .. name,
            Size = UDim2.new(1, -15, 1, -15),
            Position = UDim2.new(0, 7.5, 0, 7.5),
            BackgroundTransparency = 1,
            Visible = false,
            CanvasSize = UDim2.new(0, 0, 0, 0),
            ScrollBarThickness = 3,
            ScrollBarImageColor3 = theme.Accent,
            ScrollingDirection = Enum.ScrollingDirection.Y,
            ZIndex = 13,
            Parent = ContentContainer
        })
        
        UI:Create("UIListLayout", {
            Padding = UDim.new(0, 10),
            HorizontalAlignment = Enum.HorizontalAlignment.Left,
            SortOrder = Enum.SortOrder.LayoutOrder,
            Parent = Page
        })
        
        UI:Create("UIPadding", {
            PaddingLeft = UDim.new(0, 8),
            PaddingRight = UDim.new(0, 8),
            Parent = Page
        })
        
        -- –û–±—ä–µ–∫—Ç –≤–∫–ª–∞–¥–∫–∏
        local Tab = {
            Name = name,
            Page = Page,
            Button = TabBtn,
            Elements = {},
            ElementCount = 0,
            Dropdowns = {}
        }

        -- –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∫–ª–∞–¥–∫–∏
        local function activateTab()
            for _, v in pairs(ContentContainer:GetChildren()) do
                if v:IsA("ScrollingFrame") then
                    v.Visible = false
                end
            end
            
            Page.Visible = true
            WindowObj.CurrentTab = TabBtn
            
            for _, btn in pairs(TabScroll:GetChildren()) do
                if btn:IsA("TextButton") and btn ~= TabBtn then
                    services.TweenService:Create(btn, TweenInfo.new(0.15), {
                        BackgroundTransparency = 0.6,
                        TextColor3 = theme.TextSecondary
                    }):Play()
                end
            end
            
            services.TweenService:Create(TabBtn, TweenInfo.new(0.15), {
                BackgroundTransparency = 0.3,
                TextColor3 = theme.Accent
            }):Play()
        end

        -- –ê–Ω–∏–º–∞—Ü–∏–∏ –∫–Ω–æ–ø–∫–∏
        table.insert(WindowObj.Connections, TabBtn.MouseEnter:Connect(function()
            if TabBtn ~= WindowObj.CurrentTab then
                services.TweenService:Create(TabBtn, TweenInfo.new(0.15), {
                    BackgroundTransparency = 0.4,
                    TextColor3 = theme.Text
                }):Play()
            end
        end))
        
        table.insert(WindowObj.Connections, TabBtn.MouseLeave:Connect(function()
            if TabBtn ~= WindowObj.CurrentTab then
                services.TweenService:Create(TabBtn, TweenInfo.new(0.15), {
                    BackgroundTransparency = 0.6,
                    TextColor3 = theme.TextSecondary
                }):Play()
            end
        end))
        
        table.insert(WindowObj.Connections, TabBtn.MouseButton1Click:Connect(activateTab))

        -- –§–£–ù–ö–¶–ò–Ø –†–ê–ó–î–ï–õ–ò–¢–ï–õ–Ø
        function Tab:Separator(text)
            Tab.ElementCount = Tab.ElementCount + 1
            
            local SeparatorFrame = UI:Create("Frame", {
                Size = UDim2.new(1, -16, 0, 30),
                BackgroundTransparency = 1,
                ZIndex = 14,
                LayoutOrder = Tab.ElementCount,
                Parent = Page
            })
            
            local Line = UI:Create("Frame", {
                Size = UDim2.new(1, 0, 0, 1),
                Position = UDim2.new(0, 0, 0.5, 0),
                BackgroundColor3 = theme.Accent,
                BackgroundTransparency = 0.5,
                ZIndex = 15,
                Parent = SeparatorFrame
            })
            
            if text then
                local TextLabel = UI:Create("TextLabel", {
                    Text = text,
                    Size = UDim2.new(0, 0, 0, 20),
                    Position = UDim2.new(0.5, 0, 0.5, -10),
                    BackgroundColor3 = theme.Section,
                    TextColor3 = theme.TextSecondary,
                    Font = Enum.Font.Gotham,
                    TextSize = 11,
                    ZIndex = 16,
                    Parent = SeparatorFrame
                })
                
                UI:Create("UICorner", {
                    CornerRadius = UDim.new(0, 4),
                    Parent = TextLabel
                })
            end
            
            table.insert(Tab.Elements, SeparatorFrame)
            table.insert(WindowObj.Elements, SeparatorFrame)
            
            return SeparatorFrame
        end

        -- –§–£–ù–ö–¶–ò–Ø –õ–ï–ô–ë–õ–ê
        function Tab:Label(text, size)
            Tab.ElementCount = Tab.ElementCount + 1
            
            local fontSize = size or 13
            
            local LabelFrame = UI:Create("Frame", {
                Size = UDim2.new(1, -16, 0, 22),
                BackgroundTransparency = 1,
                ZIndex = 14,
                LayoutOrder = Tab.ElementCount,
                Parent = Page
            })
            
            UI:Create("TextLabel", {
                Text = text,
                Size = UDim2.new(1, 0, 1, 0),
                BackgroundTransparency = 1,
                TextColor3 = theme.Text,
                Font = Enum.Font.Gotham,
                TextSize = fontSize,
                TextXAlignment = Enum.TextXAlignment.Left,
                ZIndex = 15,
                Parent = LabelFrame
            })
            
            table.insert(Tab.Elements, LabelFrame)
            table.insert(WindowObj.Elements, LabelFrame)
            
            return LabelFrame
        end

        -- –§–£–ù–ö–¶–ò–Ø –ö–ù–û–ü–ö–ò
        function Tab:Button(text, callback, icon)
            Tab.ElementCount = Tab.ElementCount + 1
            
            local Btn = UI:Create("TextButton", {
                Size = UDim2.new(1, -16, 0, 36),
                BackgroundColor3 = theme.Element,
                BackgroundTransparency = 0.5,
                Text = (icon or "‚Ä¢") .. "  " .. text,
                TextColor3 = theme.Text,
                Font = Enum.Font.Gotham,
                TextSize = 13,
                TextXAlignment = Enum.TextXAlignment.Left,
                ZIndex = 14,
                LayoutOrder = Tab.ElementCount,
                Parent = Page
            })
            
            UI:Create("UIPadding", {
                PaddingLeft = UDim.new(0, 12),
                Parent = Btn
            })
            
            UI:Create("UICorner", {
                CornerRadius = UDim.new(0, 8),
                Parent = Btn
            })
            
            local btnStroke = UI:Create("UIStroke", {
                Color = theme.Accent,
                Thickness = 1,
                Transparency = 0.8,
                Parent = Btn
            })
            
            -- –ê–Ω–∏–º–∞—Ü–∏–∏
            table.insert(WindowObj.Connections, Btn.MouseEnter:Connect(function()
                services.TweenService:Create(Btn, TweenInfo.new(0.15), {
                    BackgroundTransparency = 0.3,
                    Size = UDim2.new(1, -12, 0, 38)
                }):Play()
                services.TweenService:Create(btnStroke, TweenInfo.new(0.15), {
                    Transparency = 0.6
                }):Play()
            end))
            
            Btn.MouseButton1Click:Connect(function()
            end)

            table.insert(WindowObj.Connections, Btn.MouseLeave:Connect(function()
                services.TweenService:Create(Btn, TweenInfo.new(0.15), {
                    BackgroundTransparency = 0.5,
                    Size = UDim2.new(1, -16, 0, 36)
                }):Play()
                services.TweenService:Create(btnStroke, TweenInfo.new(0.15), {
                    Transparency = 0.8
                }):Play()
            end))
            
            -- –ö–ª–∏–∫
            table.insert(WindowObj.Connections, Btn.MouseButton1Click:Connect(function()
                services.TweenService:Create(Btn, TweenInfo.new(0.1), {
                    BackgroundTransparency = 0.2,
                    Size = UDim2.new(1, -18, 0, 34)
                }):Play()
                task.wait(0.1)
                services.TweenService:Create(Btn, TweenInfo.new(0.1), {
                    BackgroundTransparency = 0.3,
                    Size = UDim2.new(1, -12, 0, 38)
                }):Play()
                
                if callback then
                    local success, err = pcall(callback)
                    if not success then
                        warn("Button callback error:", err)
                    end
                end
            end))
            
            table.insert(Tab.Elements, Btn)
            table.insert(WindowObj.Elements, Btn)
            return Btn
        end

        -- –§–£–ù–ö–¶–ò–Ø –ü–ï–†–ï–ö–õ–Æ–ß–ê–¢–ï–õ–Ø
        function Tab:Toggle(text, default, callback)
            Tab.ElementCount = Tab.ElementCount + 1
            
            local state = default or false
            
            local ToggleFrame = UI:Create("TextButton", {
                Size = UDim2.new(1, -16, 0, 36),
                BackgroundColor3 = theme.Element,
                BackgroundTransparency = 0.5,
                Text = "  " .. text,
                TextColor3 = theme.Text,
                TextXAlignment = Enum.TextXAlignment.Left,
                Font = Enum.Font.Gotham,
                TextSize = 13,
                ZIndex = 14,
                LayoutOrder = Tab.ElementCount,
                Parent = Page
            })
            
            UI:Create("UICorner", {
                CornerRadius = UDim.new(0, 8),
                Parent = ToggleFrame
            })
            
            local frameStroke = UI:Create("UIStroke", {
                Color = theme.Accent,
                Thickness = 1,
                Transparency = 0.8,
                Parent = ToggleFrame
            })
            
            -- –ü–æ–ª–∑—É–Ω–æ–∫
            local SliderTrack = UI:Create("Frame", {
                Size = UDim2.new(0, 48, 0, 20),
                Position = UDim2.new(1, -60, 0.5, -10),
                BackgroundColor3 = state and theme.Accent or Color3.fromRGB(80, 80, 90),
                ZIndex = 15,
                Parent = ToggleFrame
            })
            
            UI:Create("UICorner", {
                CornerRadius = UDim.new(1, 0),
                Parent = SliderTrack
            })
            
            -- –ö—Ä—É–∂–æ–∫
            local SliderDot = UI:Create("Frame", {
                Size = UDim2.new(0, 16, 0, 16),
                Position = state and UDim2.new(1, -18, 0.5, -8) or UDim2.new(0, 2, 0.5, -8),
                BackgroundColor3 = Color3.fromRGB(240, 240, 245),
                ZIndex = 16,
                Parent = SliderTrack
            })
            
            UI:Create("UICorner", {
                CornerRadius = UDim.new(1, 0),
                Parent = SliderDot
            })
            
            -- –ê–Ω–∏–º–∞—Ü–∏–∏
            table.insert(WindowObj.Connections, ToggleFrame.MouseEnter:Connect(function()
                services.TweenService:Create(ToggleFrame, TweenInfo.new(0.15), {
                    BackgroundTransparency = 0.4,
                    Size = UDim2.new(1, -12, 0, 38)
                }):Play()
                services.TweenService:Create(frameStroke, TweenInfo.new(0.15), {
                    Transparency = 0.6
                }):Play()
            end))
            
            
            ToggleFrame.MouseButton1Click:Connect(function()
            end)

            table.insert(WindowObj.Connections, ToggleFrame.MouseLeave:Connect(function()
                services.TweenService:Create(ToggleFrame, TweenInfo.new(0.15), {
                    BackgroundTransparency = 0.5,
                    Size = UDim2.new(1, -16, 0, 36)
                }):Play()
                services.TweenService:Create(frameStroke, TweenInfo.new(0.15), {
                    Transparency = 0.8
                }):Play()
            end))
            
            -- –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
            local function toggleState()
                state = not state
                
                if state then
                    services.TweenService:Create(SliderTrack, TweenInfo.new(0.15), {
                        BackgroundColor3 = theme.Accent
                    }):Play()
                    services.TweenService:Create(SliderDot, TweenInfo.new(0.15), {
                        Position = UDim2.new(1, -18, 0.5, -8)
                    }):Play()
                else
                    services.TweenService:Create(SliderTrack, TweenInfo.new(0.15), {
                        BackgroundColor3 = Color3.fromRGB(80, 80, 90)
                    }):Play()
                    services.TweenService:Create(SliderDot, TweenInfo.new(0.15), {
                        Position = UDim2.new(0, 2, 0.5, -8)
                    }):Play()
                end
                
                if callback then
                    local success, err = pcall(callback, state)
                    if not success then
                        warn("Toggle callback error:", err)
                    end
                end
            end
            
            table.insert(WindowObj.Connections, ToggleFrame.MouseButton1Click:Connect(toggleState))
            
            table.insert(Tab.Elements, ToggleFrame)
            table.insert(WindowObj.Elements, ToggleFrame)
            
            return {
                Set = function(val)
                    if val ~= state then
                        state = val
                        if state then
                            SliderTrack.BackgroundColor3 = theme.Accent
                            SliderDot.Position = UDim2.new(1, -18, 0.5, -8)
                        else
                            SliderTrack.BackgroundColor3 = Color3.fromRGB(80, 80, 90)
                            SliderDot.Position = UDim2.new(0, 2, 0.5, -8)
                        end
                    end
                end,
                Get = function() return state end
            }
        end

        -- –§–£–ù–ö–¶–ò–Ø –°–õ–ê–ô–î–ï–†–ê
        function Tab:Slider(text, min, max, default, callback, showValue)
            Tab.ElementCount = Tab.ElementCount + 1
    
            local currentValue = default
            local isDragging = false
            
            -- –ò–ó–ú–ï–ù–ï–ù–û: –ò—Å–ø–æ–ª—å–∑—É–µ–º TextButton –≤–º–µ—Å—Ç–æ Frame
            local SliderFrame = UI:Create("TextButton", {
                Name = "Slider_" .. text,
                Size = UDim2.new(1, -16, 0, 60),
                BackgroundColor3 = theme.Element,
                BackgroundTransparency = 0.5,
                Text = "", -- –£–±–∏—Ä–∞–µ–º —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏
                AutoButtonColor = false, -- –û—Ç–∫–ª—é—á–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ
                ZIndex = 14,
                LayoutOrder = Tab.ElementCount,
                Parent = Page
            })
            
            -- –î–∞–ª–µ–µ –∫–æ–¥ –æ—Å—Ç–∞–µ—Ç—Å—è –ø–æ—á—Ç–∏ —Ç–∞–∫–∏–º –∂–µ, –Ω–æ –≤—ã–∑–æ–≤ —á–∞—Å—Ç–∏—Ü —Ç–µ–ø–µ—Ä—å –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç
            UI:Create("UICorner", {
                CornerRadius = UDim.new(0, 8),
                Parent = SliderFrame
            })
            
            -- –ü—Ä–∏–≤—è–∑–∫–∞ —á–∞—Å—Ç–∏—Ü –∫ –Ω–∞–∂–∞—Ç–∏—é –Ω–∞ –≤—Å—é –æ–±–ª–∞—Å—Ç—å —Å–ª–∞–π–¥–µ—Ä–∞
            table.insert(WindowObj.Connections, SliderFrame.MouseButton1Click:Connect(function()
            end))
            
            local Label = UI:Create("TextLabel", {
                Text = "  " .. text .. (showValue and (": " .. default) or ""),
                Size = UDim2.new(1, 0, 0, 22),
                BackgroundTransparency = 1,
                TextColor3 = theme.Text,
                TextXAlignment = Enum.TextXAlignment.Left,
                Font = Enum.Font.Gotham,
                TextSize = 12,
                ZIndex = 15,
                Parent = SliderFrame
            })

            local ValueLabel = UI:Create("TextLabel", {
                Text = tostring(default),
                Size = UDim2.new(0, 36, 0, 22),
                Position = UDim2.new(1, -40, 0, 0),
                BackgroundTransparency = 1,
                TextColor3 = theme.Accent,
                Font = Enum.Font.GothamMedium,
                TextSize = 12,
                ZIndex = 15,
                Parent = SliderFrame
            })

            local Bar = UI:Create("Frame", {
                Size = UDim2.new(1, -28, 0, 5),
                Position = UDim2.new(0, 14, 1, -20),
                BackgroundColor3 = Color3.fromRGB(70, 70, 80),
                ZIndex = 15,
                Parent = SliderFrame
            })
            
            UI:Create("UICorner", {
                CornerRadius = UDim.new(1, 0),
                Parent = Bar
            })
            
            local Fill = UI:Create("Frame", {
                Size = UDim2.new((default - min) / (max - min), 0, 1, 0),
                BackgroundColor3 = theme.Accent,
                ZIndex = 16,
                Parent = Bar
            })
            
            UI:Create("UICorner", {
                CornerRadius = UDim.new(1, 0),
                Parent = Fill
            })
            
            local SliderDot = UI:Create("Frame", {
                Size = UDim2.new(0, 14, 0, 14),
                Position = UDim2.new((default - min) / (max - min), -7, 0.5, -7),
                BackgroundColor3 = Color3.fromRGB(240, 240, 245),
                ZIndex = 17,
                Parent = Bar
            })
            
            UI:Create("UICorner", {
                CornerRadius = UDim.new(1, 0),
                Parent = SliderDot
            })

            local function updateSlider(input)
                if not input then return end
                
                local pos = math.clamp((input.Position.X - Bar.AbsolutePosition.X) / Bar.AbsoluteSize.X, 0, 1)
                local val = math.floor(min + (max - min) * pos)
                
                if val ~= currentValue then
                    currentValue = val
                    
                    Fill.Size = UDim2.new(pos, 0, 1, 0)
                    SliderDot.Position = UDim2.new(pos, -7, 0.5, -7)
                    ValueLabel.Text = tostring(val)
                    
                    if showValue then
                        Label.Text = "  " .. text .. ": " .. val
                    end
                    
                    if callback then
                        local success, err = pcall(callback, val)
                        if not success then
                            warn("Slider callback error:", err)
                        end
                    end
                end
            end

            SliderFrame.MouseButton1Click:Connect(function()
            end)

            table.insert(WindowObj.Connections, Bar.InputBegan:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 then
                    isDragging = true
                    updateSlider(input)
                    
                    local connection
                    connection = services.UIS.InputChanged:Connect(function(input)
                        if isDragging and input.UserInputType == Enum.UserInputType.MouseMovement then
                            updateSlider(input)
                        end
                    end)
                    
                    table.insert(WindowObj.Connections, services.UIS.InputEnded:Connect(function(input)
                        if input.UserInputType == Enum.UserInputType.MouseButton1 then
                            isDragging = false
                            if connection then
                                connection:Disconnect()
                            end
                        end
                    end))
                end
            end))
            
            table.insert(Tab.Elements, SliderFrame)
            table.insert(WindowObj.Elements, SliderFrame)
            
            return {
                Set = function(val)
                    val = math.clamp(val, min, max)
                    currentValue = val
                    local pos = (val - min) / (max - min)
                    Fill.Size = UDim2.new(pos, 0, 1, 0)
                    SliderDot.Position = UDim2.new(pos, -7, 0.5, -7)
                    ValueLabel.Text = tostring(val)
                    if showValue then
                        Label.Text = "  " .. text .. ": " .. val
                    end
                end,
                Get = function()
                    return currentValue
                end
            }
        end

        -- –§–£–ù–ö–¶–ò–Ø DROPDOWN (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è)
        function Tab:Dropdown(text, options, default, callback)
            Tab.ElementCount = Tab.ElementCount + 1
            
            local selected = default or options[1]
            local isOpen = false
            local dropdownContainer
            local dropdownOptions = {}

            local OptionsList = UI:Create("ScrollingFrame", {
                Name = "OptionsList",
                Size = UDim2.new(1, -8, 1, -8),
                Position = UDim2.new(0, 4, 0, 4),
                BackgroundTransparency = 1,
                BorderSizePixel = 0,
                ScrollBarThickness = 4,
                ScrollBarImageColor3 = theme.Accent,
                CanvasSize = UDim2.new(0, 0, 0, #options * 32),
                ZIndex = 1001,
                Parent = dropdownContainer
            })
            
            -- –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
            local DropFrame = UI:Create("Frame", {
                Name = "Dropdown_" .. text,
                Size = UDim2.new(1, -16, 0, 36),
                BackgroundColor3 = theme.Element,
                BackgroundTransparency = 0.5,
                ZIndex = 14,
                LayoutOrder = Tab.ElementCount,
                Parent = Page
            })
            
            UI:Create("UICorner", {
                CornerRadius = UDim.new(0, 8),
                Parent = DropFrame
            })
            
            local frameStroke = UI:Create("UIStroke", {
                Color = theme.Accent,
                Thickness = 1,
                Transparency = 0.8,
                Parent = DropFrame
            })
            
            -- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è dropdown
            local DropBtn = UI:Create("TextButton", {
                Name = "DropBtn",
                Size = UDim2.new(1, 0, 0, 36),
                BackgroundTransparency = 1,
                Text = "  " .. text .. ": " .. selected,
                TextColor3 = theme.Text,
                Font = Enum.Font.Gotham,
                TextSize = 13,
                TextXAlignment = Enum.TextXAlignment.Left,
                ZIndex = 15,
                Parent = DropFrame
            })
            
            -- –°—Ç—Ä–µ–ª–∫–∞
            local Arrow = UI:Create("TextLabel", {
                Text = "‚ñº",
                Size = UDim2.new(0, 20, 1, 0),
                Position = UDim2.new(1, -25, 0, 0),
                BackgroundTransparency = 1,
                TextColor3 = theme.TextSecondary,
                Font = Enum.Font.GothamMedium,
                TextSize = 12,
                ZIndex = 15,
                Parent = DropFrame
            })
            
            -- –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –æ–ø—Ü–∏–π
            local function createDropdownContainer()
                if dropdownContainer then
                    dropdownContainer:Destroy()
                end
                
                -- –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏—é
                local dropAbsPos = DropFrame.AbsolutePosition
                local dropAbsSize = DropFrame.AbsoluteSize
                local mainAbsPos = Main.AbsolutePosition
                
                -- –î–æ—Å—Ç—É–ø–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ
                local spaceBelow = (mainAbsPos.Y + Main.AbsoluteSize.Y) - (dropAbsPos.Y + dropAbsSize.Y)
                local spaceAbove = dropAbsPos.Y - mainAbsPos.Y
                
                -- –†–µ—à–∞–µ–º, –≥–¥–µ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å dropdown
                local openUpwards = spaceBelow < 100 and spaceAbove > spaceBelow
                
                -- –°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
                dropdownContainer = UI:Create("Frame", {
                    Name = "DropdownContainer_" .. text,
                    BackgroundColor3 = theme.Element,
                    BackgroundTransparency = 0.1,
                    BorderSizePixel = 0,
                    ZIndex = 1000,
                    Visible = false,
                    Parent = ScreenGui
                })
                
                local relativeX = dropAbsPos.X - mainAbsPos.X
                local relativeY
                
                if openUpwards then
                    -- –û—Ç–∫—Ä—ã–≤–∞–µ–º —Å–≤–µ—Ä—Ö—É
                    relativeY = dropAbsPos.Y - mainAbsPos.Y - 180 - 5
                else
                    -- –û—Ç–∫—Ä—ã–≤–∞–µ–º —Å–Ω–∏–∑—É
                    relativeY = dropAbsPos.Y - mainAbsPos.Y + dropAbsSize.Y + 5
                end
                
                -- –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏—é
                local maxY = Main.AbsoluteSize.Y - 180 - 10
                relativeY = math.clamp(relativeY, 10, maxY)
                
                dropdownContainer.Position = UDim2.new(0, relativeX, 0, relativeY)
                dropdownContainer.Size = UDim2.new(0, dropAbsSize.X, 0, 0)
                
                UI:Create("UICorner", {
                    CornerRadius = UDim.new(0, 8),
                    Parent = dropdownContainer
                })
                
                UI:Create("UIStroke", {
                    Color = theme.Accent,
                    Thickness = 1,
                    Transparency = 0.5,
                    Parent = dropdownContainer
                })
                
                createShadow(dropdownContainer, theme.Shadow, 0.3, 6)
                
                
                UI:Create("UIListLayout", {
                    Padding = UDim.new(0, 2),
                    SortOrder = Enum.SortOrder.LayoutOrder,
                    Parent = OptionsList
                })
                
                -- –°–æ–∑–¥–∞–µ–º –æ–ø—Ü–∏–∏
                dropdownOptions = {}
                for i, option in ipairs(options) do
                    local OptionBtn = UI:Create("TextButton", {
                        Name = "Option_" .. option,
                        Size = UDim2.new(1, 0, 0, 28),
                        LayoutOrder = i,
                        BackgroundColor3 = theme.Element,
                        BackgroundTransparency = option == selected and 0.3 or 0.6,
                        Text = option,
                        TextColor3 = option == selected and theme.Accent or theme.TextSecondary,
                        Font = Enum.Font.Gotham,
                        TextSize = 12,
                        TextXAlignment = Enum.TextXAlignment.Left,
                        ZIndex = 1002,
                        Parent = OptionsList
                    })
                    
                    UI:Create("UIPadding", {
                        PaddingLeft = UDim.new(0, 10),
                        Parent = OptionBtn
                    })
                    
                    UI:Create("UICorner", {
                        CornerRadius = UDim.new(0, 6),
                        Parent = OptionBtn
                    })
                    
                    -- –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
                    table.insert(WindowObj.Connections, OptionBtn.MouseEnter:Connect(function()
                        if option ~= selected then
                            services.TweenService:Create(OptionBtn, TweenInfo.new(0.15), {
                                BackgroundTransparency = 0.4,
                                TextColor3 = theme.Text
                            }):Play()
                        end
                    end))
                    
                    table.insert(WindowObj.Connections, OptionBtn.MouseLeave:Connect(function()
                        if option ~= selected then
                            services.TweenService:Create(OptionBtn, TweenInfo.new(0.15), {
                                BackgroundTransparency = 0.6,
                                TextColor3 = theme.TextSecondary
                            }):Play()
                        end
                    end))
                    
                    -- –í—ã–±–æ—Ä –æ–ø—Ü–∏–∏
                    table.insert(WindowObj.Connections, OptionBtn.MouseButton1Click:Connect(function()
                        selected = option
                        DropBtn.Text = "  " .. text .. ": " .. selected
                        
                        -- –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ –∫–Ω–æ–ø–∫–∏
                        for _, btn in pairs(OptionsList:GetChildren()) do
                            if btn:IsA("TextButton") then
                                if btn.Text == selected then
                                    services.TweenService:Create(btn, TweenInfo.new(0.15), {
                                        BackgroundTransparency = 0.3,
                                        TextColor3 = theme.Accent
                                    }):Play()
                                else
                                    services.TweenService:Create(btn, TweenInfo.new(0.15), {
                                        BackgroundTransparency = 0.6,
                                        TextColor3 = theme.TextSecondary
                                    }):Play()
                                end
                            end
                        end
                        
                        if callback then
                            local success, err = pcall(callback, selected)
                            if not success then
                                warn("Dropdown callback error:", err)
                            end
                        end
                    end))

                    table.insert(dropdownOptions, OptionBtn)
                end
            end

            local function toggleDropdown()
                isOpen = not isOpen
    
                if isOpen then
                    -- –ó–∞–∫—Ä—ã–≤–∞–µ–º –¥—Ä—É–≥–∏–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ dropdowns
                    for _, otherDropdown in pairs(WindowObj.OpenDropdowns) do
                        if otherDropdown ~= DropFrame then
                            otherDropdown.Close()
                        end
                    end
                    
                    -- –°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
                    createDropdownContainer()
                    
                    -- –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏—é —Å —É—á–µ—Ç–æ–º –≥—Ä–∞–Ω–∏—Ü —ç–∫—Ä–∞–Ω–∞
                    local dropAbsPos = DropFrame.AbsolutePosition
                    local dropAbsSize = DropFrame.AbsoluteSize
                    local viewportSize = workspace.CurrentCamera.ViewportSize
                    
                    -- –ü—ã—Ç–∞–µ–º—Å—è –æ—Ç–∫—Ä—ã—Ç—å —Å–Ω–∏–∑—É
                    local relativeY = dropAbsPos.Y + dropAbsSize.Y + 5
                    
                    -- –ï—Å–ª–∏ –Ω–µ –ø–æ–º–µ—â–∞–µ—Ç—Å—è —Å–Ω–∏–∑—É, –æ—Ç–∫—Ä—ã–≤–∞–µ–º —Å–≤–µ—Ä—Ö—É
                    if relativeY + 180 > viewportSize.Y then
                        relativeY = dropAbsPos.Y - 180 - 5
                    end
                    
                    -- –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏—é
                    relativeY = math.clamp(relativeY, 10, viewportSize.Y - 180 - 10)
                    
                    dropdownContainer.Position = UDim2.new(0, dropAbsPos.X, 0, relativeY)
                    dropdownContainer.Visible = true
                    services.TweenService:Create(dropdownContainer, TweenInfo.new(0.2), {
                        Size = UDim2.new(0, DropFrame.AbsoluteSize.X, 0, 180)
                    }):Play()
                    
                    services.TweenService:Create(Arrow, TweenInfo.new(0.2), {
                        Rotation = 180,
                        TextColor3 = theme.Accent
                    }):Play()
                    
                    services.TweenService:Create(DropFrame, TweenInfo.new(0.15), {
                        BackgroundTransparency = 0.2,
                        Size = UDim2.new(1, -12, 0, 38)
                    }):Play()
                    
                    services.TweenService:Create(frameStroke, TweenInfo.new(0.15), {
                        Transparency = 0.4
                    }):Play()
                    
                    -- –î–æ–±–∞–≤–ª—è–µ–º –≤ —Å–ø–∏—Å–æ–∫ –æ—Ç–∫—Ä—ã—Ç—ã—Ö
                    WindowObj.OpenDropdowns[DropFrame] = {
                        Close = function()
                            if isOpen then
                                toggleDropdown()
                            end
                        end
                    }
                else
                    if dropdownContainer then
                        services.TweenService:Create(dropdownContainer, TweenInfo.new(0.2), {
                            Size = UDim2.new(0, DropFrame.AbsoluteSize.X, 0, 0)
                        }):Play()
                        
                        services.TweenService:Create(Arrow, TweenInfo.new(0.2), {
                            Rotation = 0,
                            TextColor3 = theme.TextSecondary
                        }):Play()
                        
                        services.TweenService:Create(DropFrame, TweenInfo.new(0.15), {
                            BackgroundTransparency = 0.5,
                            Size = UDim2.new(1, -16, 0, 36)
                        }):Play()
                        
                        services.TweenService:Create(frameStroke, TweenInfo.new(0.15), {
                            Transparency = 0.8
                        }):Play()
                        
                        task.wait(0.2)
                        dropdownContainer:Destroy()
                        dropdownContainer = nil
                    end
                    
                    -- –£–¥–∞–ª—è–µ–º –∏–∑ —Å–ø–∏—Å–∫–∞ –æ—Ç–∫—Ä—ã—Ç—ã—Ö
                    WindowObj.OpenDropdowns[DropFrame] = nil
                end
            end
            
            -- –ê–Ω–∏–º–∞—Ü–∏–∏ –∫–Ω–æ–ø–∫–∏
            table.insert(WindowObj.Connections, DropBtn.MouseEnter:Connect(function()
                if not isOpen then
                    services.TweenService:Create(DropFrame, TweenInfo.new(0.15), {
                        BackgroundTransparency = 0.4,
                        Size = UDim2.new(1, -12, 0, 38)
                    }):Play()
                    services.TweenService:Create(frameStroke, TweenInfo.new(0.15), {
                        Transparency = 0.6
                    }):Play()
                end
            end))
            
            DropBtn.MouseButton1Click:Connect(function()
            end)

            table.insert(WindowObj.Connections, DropBtn.MouseLeave:Connect(function()
                if not isOpen then
                    services.TweenService:Create(DropFrame, TweenInfo.new(0.15), {
                        BackgroundTransparency = 0.5,
                        Size = UDim2.new(1, -16, 0, 36)
                    }):Play()
                    services.TweenService:Create(frameStroke, TweenInfo.new(0.15), {
                        Transparency = 0.8
                    }):Play()
                end
            end))
            
            -- –û—Ç–∫—Ä—ã—Ç–∏–µ dropdown
            table.insert(WindowObj.Connections, DropBtn.MouseButton1Click:Connect(toggleDropdown))
            
            -- –ó–∞–∫—Ä—ã—Ç–∏–µ dropdown –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
            local function closeOnClickOutside(input)
                if isOpen and input.UserInputType == Enum.UserInputType.MouseButton1 and dropdownContainer then
                    local mousePos = input.Position
                    local dropAbsPos = DropFrame.AbsolutePosition
                    local dropAbsSize = DropFrame.AbsoluteSize
                    
                    local clickedInsideDropdown = 
                        (mousePos.X >= dropAbsPos.X and mousePos.X <= dropAbsPos.X + dropAbsSize.X and
                         mousePos.Y >= dropAbsPos.Y and mousePos.Y <= dropAbsPos.Y + dropAbsSize.Y)
                    
                    local containerAbsPos = dropdownContainer.AbsolutePosition
                    local containerAbsSize = dropdownContainer.AbsoluteSize
                    local clickedInsideContainer = 
                        containerAbsPos and 
                        (mousePos.X >= containerAbsPos.X and mousePos.X <= containerAbsPos.X + containerAbsSize.X and
                         mousePos.Y >= containerAbsPos.Y and mousePos.Y <= containerAbsPos.Y + containerAbsSize.Y)
                    
                    if not clickedInsideDropdown and not clickedInsideContainer then
                        toggleDropdown()
                    end
                end
            end
            
            local closeConnection = services.UIS.InputBegan:Connect(closeOnClickOutside)
            table.insert(WindowObj.Connections, closeConnection)
            
            table.insert(Tab.Elements, DropFrame)
            table.insert(WindowObj.Elements, DropFrame)
            table.insert(Tab.Dropdowns, DropFrame)
            
            -- –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–±—ä–µ–∫—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
            local dropdownObj = {
                Set = function(value)
                    local found = false
                    for _, v in ipairs(options) do
                        if v == value then
                            found = true
                            break
                        end
                    end
                    
                    if found then
                        selected = value
                        DropBtn.Text = "  " .. text .. ": " .. value
                        
                        if callback then
                            pcall(callback, value)
                        end
                    else
                        warn("Dropdown: invalid value '" .. tostring(value) .. "'. Available:", options)
                    end
                end,
                
                Get = function()
                    return selected
                end,
                
                GetOptions = function()
                    return options
                end,
                
                AddOption = function(newOption)
                    local exists = false
                    for _, v in ipairs(options) do
                        if v == newOption then
                            exists = true
                            break
                        end
                    end
                    
                    if not exists then
                        table.insert(options, newOption)
                    end
                end,
                
                RemoveOption = function(optionToRemove)
                    for i, v in ipairs(options) do
                        if v == optionToRemove then
                            table.remove(options, i)
                            if selected == optionToRemove then
                                selected = options[1] or ""
                                DropBtn.Text = "  " .. text .. ": " .. selected
                            end
                            break
                        end
                    end
                end,
                
                Destroy = function()
                    if closeConnection then
                        closeConnection:Disconnect()
                    end
                    if dropdownContainer then
                        dropdownContainer:Destroy()
                    end
                    DropFrame:Destroy()
                end
            }
            
            -- –ú–µ—Ç–æ–¥ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ (–≤—Å—Ç–∞–≤—å —ç—Ç–æ –≤–Ω—É—Ç—Ä—å Tab:Dropdown)
            function dropdownObj:Refresh(newList)
                newList = newList or {}
                
                -- –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –æ–ø—Ü–∏–π
                if OptionsList then
                    for _, child in pairs(OptionsList:GetChildren()) do
                        if child:IsA("TextButton") then
                            child:Destroy()
                        end
                    end
                    
                    -- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ (—Ç–µ–ø–µ—Ä—å –Ω–µ –±—É–¥–µ—Ç nil —Å CanvasSize)
                    local listCount = #newList
                    OptionsList.CanvasSize = UDim2.new(1, -5, 0, listCount * 34 + 5)
                end
                
                -- –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –æ–ø—Ü–∏–π
                for _, option in pairs(newList) do
                    -- –ü–†–û–í–ï–†–ö–ê: –∏—Å–ø–æ–ª—å–∑—É–µ–º –Ω–∞–ø—Ä—è–º—É—é GeminiLib.UI, –µ—Å–ª–∏ –ª–æ–∫–∞–ª—å–Ω—ã–π UI –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
                    local OptBtn = UI:Create("TextButton", {
                        Name = "Option_" .. tostring(option),
                        Size = UDim2.new(1, -10, 0, 32),
                        BackgroundColor3 = theme.Element,
                        BackgroundTransparency = 0.4,
                        Text = tostring(option),
                        TextColor3 = theme.Text,
                        Font = Enum.Font.Gotham,
                        TextSize = 15,
                        Parent = OptionsList
                    })
                    
                    -- –ò—Å–ø–æ–ª—å–∑—É–µ–º –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –≤—ã–∑–æ–≤ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —É–≥–ª–∞
                    local ui_lib = (UI or GeminiLib.UI)
                    ui_lib:Create("UICorner", { CornerRadius = UDim.new(0, 4), Parent = OptBtn })
                    
                    OptBtn.MouseButton1Click:Connect(function()
                        selected = option
                        currentValue = option
                        -- –ò—Å–ø–æ–ª—å–∑—É–µ–º tostring –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –æ—à–∏–±–∫–∏ –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏–∏
                        SelectedLabel.Text = "  " .. tostring(text) .. " " .. tostring(selected)
                        callback(option)
                        dropdownObj:Close()
                    end)
                end
                
                -- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ —Å #newList)
                local listCount = #newList
                OptionsList.CanvasSize = UDim2.new(1, -5, 0, listCount * 34 + 5)
            end


            return dropdownObj
        end

        -- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        local function updatePageSize()
            local totalHeight = 0
            
            for _, element in pairs(Page:GetChildren()) do
                if not element:IsA("UIListLayout") and not element:IsA("UIPadding") then
                    totalHeight = totalHeight + element.Size.Y.Offset + 10
                end
            end
            
            Page.CanvasSize = UDim2.new(0, 0, 0, totalHeight + 15)
        end

        Page.ChildAdded:Connect(function()
            task.wait(0.01)
            updatePageSize()
        end)
        
        Page.ChildRemoved:Connect(function()
            task.wait(0.01)
            updatePageSize()
        end)

        task.spawn(function()
            task.wait(0.1)
            updatePageSize()
        end)

        -- –î–æ–±–∞–≤–ª—è–µ–º –≤–∫–ª–∞–¥–∫—É –≤ —Å–ø–∏—Å–æ–∫
        table.insert(WindowObj.Tabs, Tab)
        
        -- –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –ø–µ—Ä–≤—É—é –≤–∫–ª–∞–¥–∫—É
        if #WindowObj.Tabs == 1 then
            activateTab()
        end

        return Tab
    end

    --#region –ü–ï–†–ï–ü–ò–°–ê–ù–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –°–ú–ï–ù–´ –¢–ï–ú–´
    function WindowObj:ChangeTheme(newThemeName)
        local newTheme = GeminiLib.Themes[newThemeName]
        if not newTheme then return end
        
        WindowObj.Theme = newTheme
        
        -- 1. –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞–Ω–µ–ª–∏
        Main.BackgroundColor3 = newTheme.Main
        if TopBar then TopBar.BackgroundColor3 = newTheme.Section end
        if Title then Title.TextColor3 = newTheme.Text end
        
        -- 2. –¢–µ–Ω—å
        local ShadowFrame = Main:FindFirstChild("Shadow") or Main:FindFirstChild("DropShadow")
        if ShadowFrame and ShadowFrame:IsA("ImageLabel") then
            ShadowFrame.ImageColor3 = newTheme.Shadow
            ShadowFrame.ImageTransparency = 1 - (newTheme.ShadowAlpha or 0.4)
        end

        -- 3. –û–±—Ö–æ–¥ –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
        for _, element in pairs(WindowObj.Elements) do
            pcall(function()
                -- –¢–µ–∫—Å—Ç–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã
                if element:IsA("TextButton") or element:IsA("TextLabel") or element:IsA("TextBox") then
                    if element.BackgroundTransparency < 1 then
                        element.BackgroundColor3 = newTheme.Element
                    end
                    element.TextColor3 = newTheme.Text
                end
                
                -- –°–µ–∫—Ü–∏–∏ –∏ —Ñ—Ä–µ–π–º—ã
                if element.Name == "SectionFrame" or element:FindFirstChild("UIListLayout") then
                    element.BackgroundColor3 = newTheme.Section
                end

                -- –ì—Ä–∞–Ω–∏—Ü—ã (UIStroke)
                local stroke = element:FindFirstChildOfClass("UIStroke")
                if stroke then
                    if element.Name:find("Slider") or element.Name:find("Toggle") then
                        stroke.Color = newTheme.Accent
                    else
                        stroke.Color = newTheme.Border
                    end
                end

                -- –ê–∫—Ü–µ–Ω—Ç–Ω—ã–µ —á–∞—Å—Ç–∏ (Slider Fill, Toggle Check)
                local AccentPart = element:FindFirstChild("AccentPart") or element:FindFirstChild("Fill")
                if AccentPart then
                    if AccentPart:IsA("Frame") then
                        AccentPart.BackgroundColor3 = newTheme.Accent
                    elseif AccentPart:IsA("ImageLabel") then
                        AccentPart.ImageColor3 = newTheme.Accent
                    end
                end
                
                -- –í—Ç–æ—Ä–∏—á–Ω—ã–π —Ç–µ–∫—Å—Ç
                local SubText = element:FindFirstChild("SubText") or element:FindFirstChild("Description")
                if SubText and SubText:IsA("TextLabel") then
                    SubText.TextColor3 = newTheme.TextSecondary
                end
            end) -- –ö–æ–Ω–µ—Ü pcall
        end -- –ö–æ–Ω–µ—Ü —Ü–∏–∫–ª–∞ for
    end -- –ö–æ–Ω–µ—Ü —Ñ—É–Ω–∫—Ü–∏–∏ ChangeTheme    

    -- –ü–ï–†–ï–ü–ò–°–ê–ù–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –ü–õ–ê–í–ê–Æ–©–ï–ô –ö–ù–û–ü–ö–ò
    function WindowObj:CreateFloatingButton()
        -- –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ —Å–æ–∑–¥–∞–Ω–∞ –ª–∏ —É–∂–µ –∫–Ω–æ–ø–∫–∞
        if WindowObj.FloatingButton then
            WindowObj.FloatingButton:Destroy()
        end
        
        -- –°–æ–∑–¥–∞–µ–º –∫–Ω–æ–ø–∫—É
        local FloatingButton = Instance.new("TextButton")
        FloatingButton.Name = "FloatingToggleButton"
        FloatingButton.Size = UDim2.new(0, 50, 0, 50)
        FloatingButton.Position = UDim2.new(0.5, 0, 0, 20) -- 0.5 –ø–æ X (—Ü–µ–Ω—Ç—Ä), 20 –ø–∏–∫—Å–µ–ª–µ–π –æ—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É
        FloatingButton.AnchorPoint = Vector2.new(0.5, 0)   -- –¢–æ—á–∫–∞ –ø—Ä–∏–≤—è–∑–∫–∏ –≤ —Ü–µ–Ω—Ç—Ä–µ –∫–Ω–æ–ø–∫–∏
        FloatingButton.BackgroundColor3 = WindowObj.Theme.Main
        FloatingButton.Text = "üîÖ"
        FloatingButton.TextSize = 20
        FloatingButton.TextColor3 = WindowObj.Theme.Text
        FloatingButton.Font = Enum.Font.LuckiestGuy
        FloatingButton.Parent = ScreenGui
        
        -- –°–∫—Ä—É–≥–ª–µ–Ω–∏–µ —É–≥–ª–æ–≤
        local UICorner = Instance.new("UICorner")
        UICorner.CornerRadius = UDim.new(0, 8)
        UICorner.Parent = FloatingButton
        
        -- –û–±–≤–æ–¥–∫–∞
        local UIStroke = Instance.new("UIStroke")
        UIStroke.Color = WindowObj.Theme.Accent
        UIStroke.Thickness = 2
        UIStroke.Parent = FloatingButton
        
        -- –õ–û–ì–ò–ö–ê –ü–ï–†–ï–¢–ê–°–ö–ò–í–ê–ù–ò–Ø
        local dragging, dragInput, dragStart, startPos
        
        local function update(input)
            local delta = input.Position - dragStart
            local newX = math.clamp(startPos.X.Offset + delta.X, 0, ScreenGui.AbsoluteSize.X - FloatingButton.AbsoluteSize.X)
            local newY = math.clamp(startPos.Y.Offset + delta.Y, 0, ScreenGui.AbsoluteSize.Y - FloatingButton.AbsoluteSize.Y)
            FloatingButton.Position = UDim2.new(0, newX, 0, newY)
        end
        
        FloatingButton.InputBegan:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                dragging = true
                dragStart = input.Position
                startPos = FloatingButton.Position
                
                input.Changed:Connect(function()
                    if input.UserInputState == Enum.UserInputState.End then
                        dragging = false
                    end
                end)
            end
        end)
        
        FloatingButton.InputChanged:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
                dragInput = input
            end
        end)
        
        services.UIS.InputChanged:Connect(function(input)
            if input == dragInput and dragging then
                update(input)
            end
        end)
        
        -- –ü–†–ò–í–Ø–ó–´–í–ê–ï–ú –ö–õ–ò–ö –ö –ü–ï–†–ï–ö–õ–Æ–ß–ï–ù–ò–Æ –ú–ï–ù–Æ
        table.insert(WindowObj.Connections, FloatingButton.MouseButton1Click:Connect(function()
            WindowObj:ToggleVisibility()
        end))
        
        -- –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
        table.insert(WindowObj.Connections, FloatingButton.MouseEnter:Connect(function()
            services.TweenService:Create(FloatingButton, TweenInfo.new(0.15), {
                Size = UDim2.new(0, 55, 0, 55),
                BackgroundTransparency = 0.2
            }):Play()
        end))
        
        table.insert(WindowObj.Connections, FloatingButton.MouseLeave:Connect(function()
            services.TweenService:Create(FloatingButton, TweenInfo.new(0.15), {
                Size = UDim2.new(0, 50, 0, 50),
                BackgroundTransparency = 0
            }):Play()
        end))
        
        -- –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Å—ã–ª–∫—É
        WindowObj.FloatingButton = FloatingButton
        
        return FloatingButton
    end

    -- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∏–¥–∏–º–æ—Å—Ç–∏
    function WindowObj:ToggleVisibility()
        if Main.Visible then
            -- –°–∫—Ä—ã–≤–∞–µ–º –º–µ–Ω—é
            services.TweenService:Create(Main, TweenInfo.new(0.3, Enum.EasingStyle.Cubic), {
                Position = UDim2.new(0.5, -GeminiLib.Config.WindowWidth/2, 1.5, 0)
            }):Play()
            
            -- –ò–∑–º–µ–Ω—è–µ–º –∏–∫–æ–Ω–∫—É –∫–Ω–æ–ø–∫–∏
            if WindowObj.FloatingButton then
                WindowObj.FloatingButton.Text = "üîÖ"
            end
            
            -- –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
            stopStatsUpdate()
            
            -- –ü—Ä—è—á–µ–º –º–µ–Ω—é –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
            task.wait(0.3)
            Main.Visible = false
        else
            -- –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–µ–Ω—é
            Main.Visible = true
            Main.Position = UDim2.new(0.5, -GeminiLib.Config.WindowWidth/2, 1.5, 0)
            
            -- –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è
            services.TweenService:Create(Main, TweenInfo.new(0.3, Enum.EasingStyle.Cubic), {
                Position = WindowObj.OriginalPosition or UDim2.new(0.5, -GeminiLib.Config.WindowWidth/2, 0.5, -GeminiLib.Config.WindowHeight/2)
            }):Play()
            
            -- –ò–∑–º–µ–Ω—è–µ–º –∏–∫–æ–Ω–∫—É –∫–Ω–æ–ø–∫–∏
            if WindowObj.FloatingButton then
                WindowObj.FloatingButton.Text = "üí†"
            end
            
            -- –ó–∞–ø—É—Å–∫–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
            startStatsUpdate()
        end
    end

    function WindowObj:Destroy()
        stopStatsUpdate()
        
        -- –û—Ç–∫–ª—é—á–∞–µ–º –≤—Å–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
        for _, connection in pairs(WindowObj.Connections) do
            if connection then
                pcall(function() connection:Disconnect() end)
            end
        end
        
        -- –û—á–∏—â–∞–µ–º –≤—Å–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ dropdowns
        for _, dropdown in pairs(WindowObj.OpenDropdowns) do
            if dropdown.Close then
                pcall(dropdown.Close)
            end
        end
        
        -- –£–¥–∞–ª—è–µ–º –ø–ª–∞–≤–∞—é—â—É—é –∫–Ω–æ–ø–∫—É
        if WindowObj.FloatingButton then
            WindowObj.FloatingButton:Destroy()
        end
        
        ScreenGui:Destroy()
        
        -- –û—á–∏—â–∞–µ–º —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞
        for k in pairs(WindowObj) do
            WindowObj[k] = nil
        end
    end
    -- –°–û–ó–î–ê–ï–ú –ü–õ–ê–í–ê–Æ–©–£–Æ –ö–ù–û–ü–ö–£ –°–†–ê–ó–£ –ü–û–°–õ–ï –°–û–ó–î–ê–ù–ò–Ø –û–ö–ù–ê
    task.wait(0.1)
    WindowObj:CreateFloatingButton()

    return WindowObj
end

return GeminiLib

